experiments:
    critical_concentration:
        parameters:
            analysis_start_time:     100
            simulation_duration:     1000
            initial_filament_length: 10000

        simulation:
            filaments:
                filament_factory:
                    class_name: SingleStateFixedLength
                    variable_arguments:
                        number: number_of_filaments
                        length: initial_filament_length
                    fixed_arguments:
                        state:  ADP

            concentrations:
                ATP:
                    class_name: FixedConcentration
                    variable_arguments:
                        sample_period: sample_period
                        concentration: atp_concentration

                ADPPi:
                    class_name: ZeroConcentration
                    variable_arguments:
                        sample_period: sample_period

                ADP:
                    class_name: ZeroConcentration
                    variable_arguments:
                        sample_period: sample_period

                Pi:
                    class_name: ZeroConcentration
                    variable_arguments:
                        sample_period: sample_period

            end_conditions:
                duration:
                    class_name: Duration
                    variable_arguments:
                        duration: simulation_duration

            measurements:
                length:
                    class_name: Length
                    variable_arguments:
                        sample_period: sample_period

                tip_state:
                    class_name: TipState
                    variable_arguments:
                        sample_period: sample_period
                    fixed_arguments:
                        ATP: ATP
                        ADPPi: ADPPi
                        ADP: ADP


        analyses:
            length:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: length
                    measurement_type: filament

            final_tip_fluctuations:
                class_name: FluctuationVariances
                fixed_arguments:
                    interpolation_method: linear
                    start_time:    300
                    tau_max: 200
                variable_arguments:
                    stop_time:     simulation_duration
                    sample_period: sample_period
                    tau_min: sample_period

#            velocity_autocorrelation:
#                class_name: VelocityAutocorrelation
#                fixed_arguments:
#                    measurement_name: length

            tau_minus_autocorrelation:
                class_name: ThresholdVelocityAutocorrelation
                variable_arguments:
                    start_time: analysis_start_time
                    stop_time: simulation_duration
                    sample_period: sample_period
                fixed_arguments:
                    measurement_name: length
                    std_devs: 0
                    side: below

            tau_plus_autocorrelation:
                class_name: ThresholdVelocityAutocorrelation
                variable_arguments:
                    start_time: analysis_start_time
                    stop_time: simulation_duration
                    sample_period: sample_period
                fixed_arguments:
                    measurement_name: length
                    std_devs: 0
                    side: above

            atp_autocorrelation:
                class_name: TipStateAutocorrelation
                variable_arguments:
                    start_time: analysis_start_time
                    stop_time: simulation_duration
                    sample_period: sample_period
                fixed_arguments:
                    state: ATP
                    measurement_name: tip_state

            adppi_autocorrelation:
                class_name: TipStateAutocorrelation
                variable_arguments:
                    start_time: analysis_start_time
                    stop_time: simulation_duration
                    sample_period: sample_period
                fixed_arguments:
                    state: ADPPi
                    measurement_name: tip_state

            adp_autocorrelation:
                class_name: TipStateAutocorrelation
                variable_arguments:
                    start_time: analysis_start_time
                    stop_time: simulation_duration
                    sample_period: sample_period
                fixed_arguments:
                    state: ADP
                    measurement_name: tip_state

            # Individual filament timecourses
            filament_0_length:
                class_name: IndividualFilament
                fixed_arguments:
                    measurement_name: length
                    simulation_index: 0
                    filament_index:   0
                variable_arguments:
                    sample_period: sample_period

#            filament_0_state:
#                class_name: IndividualFilament
#                fixed_arguments:
#                    measurement_name: tip_state
#                    simulation_index: 0
#                    filament_index:   0
#                variable_arguments:
#                    sample_period: sample_period

            filament_1_length:
                class_name: IndividualFilament
                fixed_arguments:
                    measurement_name: length
                    simulation_index: 1
                    filament_index:   0
                variable_arguments:
                    sample_period: sample_period

#            filament_1_state:
#                class_name: IndividualFilament
#                fixed_arguments:
#                    measurement_name: tip_state
#                    simulation_index: 1
#                    filament_index:   0
#                variable_arguments:
#                    sample_period: sample_period

            filament_2_length:
                class_name: IndividualFilament
                fixed_arguments:
                    measurement_name: length
                    simulation_index: 2
                    filament_index:   0
                variable_arguments:
                    sample_period: sample_period

#            filament_2_state:
#                class_name: IndividualFilament
#                fixed_arguments:
#                    measurement_name: tip_state
#                    simulation_index: 2
#                    filament_index:   0
#                variable_arguments:
#                    sample_period: sample_period


        objectives:
            executors:
#                final_elongation_rate:
#                    class_name: ElongationRate
#                    variable_arguments:
#                        sample_period: sample_period

                final_diffusion_coefficient:
                    class_name: DiffusionCoefficient
                    fixed_arguments:
                        analysis_name: final_tip_fluctuations

#                alternate_diffusion_coefficient:
#                    classname: AlternateDiffusionCoefficient
#                    fixed_arguments:
#                        analysis_name: velocity_autocorrelation
