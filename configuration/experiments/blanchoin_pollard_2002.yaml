experiments:
    blanchoin_pollard_2002:
        parameters:
            simulation_duration: 40

            seed_concentration: 6

            initial_atp_concentration:        0
            initial_pyrene_atp_concentration: 6

        simulation:
            filaments:
                filament_factory:
                    class_name: InertFilament
                    variable_arguments:
                        number: number_of_filaments
                    fixed_arguments:
                        state: Spectrin

            concentrations:
                pyrene_ATP:
                    class_name: FixedReagent
                    variable_arguments:
                        initial_concentration: initial_pyrene_atp_concentration
                        filament_tip_concentration: filament_tip_concentration
                        number: number_of_filaments

                pyrene_ADPPi:
                    class_name: FixedReagent
                    variable_arguments:
                        filament_tip_concentration: filament_tip_concentration
                        number: number_of_filaments
                    fixed_arguments:
                        initial_concentration: 0

                pyrene_ADP:
                    class_name: FixedReagent
                    variable_arguments:
                        filament_tip_concentration: filament_tip_concentration
                        number: number_of_filaments
                    fixed_arguments:
                        initial_concentration: 0

                Pi:
                    class_name: FixedReagent
                    variable_arguments:
                        filament_tip_concentration: filament_tip_concentration
                        number: number_of_filaments
                    fixed_arguments:
                        initial_concentration: 0

            end_conditions:
                duration:
                    class_name: Duration
                    variable_arguments:
                        duration: simulation_duration

            measurements:
                length:
                    class_name: Length

                pyrene_ATP:
                    class_name: StateCount
                    fixed_arguments:
                        state: pyrene_ATP

                pyrene_ADPPi:
                    class_name: StateCount
                    fixed_arguments:
                        state: pyrene_ADPPi

                pyrene_ADP:
                    class_name: StateCount
                    fixed_arguments:
                        state: pyrene_ADP

            
        analyses:
            length:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: length
                    measurement_type: filament

            pyrene_ATP:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: pyrene_ATP
                    measurement_type: filament

            pyrene_ADPPi:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: pyrene_ADPPi
                    measurement_type: filament

            total_ADPPi:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: total_ADPPi
                    measurement_type: filament

            pyrene_ADP:
                class_name: StandardErrorMean
                variable_arguments:
                    sample_period: sample_period
                    stop_time:     simulation_duration
                fixed_arguments:
                    interpolation_method: previous_value
                    measurement_name: pyrene_ADP
                    measurement_type: filament

        objectives:
            loaders:
                pollard_adppi_fit:
                    class_name: DatReader
                    fixed_arguments:
                        filename: 'pollard_2002/adppi_concentration.dat'

                flat_pyrene_fit:
                    class_name: DatReader
                    variable_arguments:
                        sample_period: sample_period
                        xmax: simulation_duration
                    fixed_arguments:
                        xmin: 0
                        filename: 'pollard_2002/pyrene_fluorescence.dat'
                        interpolate_data: True

                brooks_pyrene_fit:
                    class_name: DatReader
                    variable_arguments:
                        sample_period: sample_period
                        xmax: simulation_duration
                    fixed_arguments:
                        xmin: 0
                        filename: 'pollard_2002/pyrene_fluorescence.dat'
                        interpolate_data: True


            executors:
                pollard_adppi_fit:
                    class_name: SimpleDataFit
                    variable_arguments:
                        scale_simulation_by: filament_tip_concentration
                    fixed_arguments:
                        measurement:   total_ADPPi
                        residual_type: naked_chi_squared
                        interpolate_simulation: True

                flat_pyrene_fit:
                    class_name: PyreneFit
                    fixed_arguments:
                        pyrene_ATP:    1
                        pyrene_ADPPi:  1
                        pyrene_ADP:    1
                        residual_type: naked_chi_squared

                brooks_pyrene_fit:
                    class_name: PyreneFit
                    variable_arguments:
                        pyrene_ATP:   brooks_atp_weight
                        pyrene_ADPPi: brooks_adppi_weight
                        pyrene_ADP:   brooks_adp_weight

                    fixed_arguments:
                        residual_type: naked_chi_squared
